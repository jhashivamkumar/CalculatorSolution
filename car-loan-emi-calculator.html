<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <title>Car Loan EMI Calculator with Down Payment & Amortization | CalculatorSolution</title>
  <meta name="description" content="Free Car Loan EMI Calculator: enter car price, down payment, interest rate and tenure to calculate EMI, total interest, total payable and amortization schedule.">

  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://calculatorsolution.com/car-loan-emi-calculator.html">

  <meta property="og:title" content="Car Loan EMI Calculator">
  <meta property="og:description" content="Calculate EMI, total interest, total payable & amortization schedule for a car loan with down payment.">
  <meta property="og:image" content="https://calculatorsolution.com/assets/og-image.svg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://calculatorsolution.com/assets/og-image.svg">

  <link rel="icon" href="/assets/og-image.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/assets/logo.png">
  <link rel="manifest" href="/assets/site.webmanifest">

  <!-- Your global CSS -->
  <link rel="preload" href="/assets/style.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/assets/style.css"></noscript>

  <style>
    /* ---------------------------
       Responsive UI/UX upgrades
       (NO JS/logic changes)
    ----------------------------*/

    :root{
      --wrap: 1100px;
      --pad-x: 18px;
      --radius-lg: 18px;
      --radius-md: 16px;
      --radius-sm: 12px;
      --shadow-lg: 0 18px 50px rgba(2,6,23,.15);
      --shadow-md: 0 14px 40px rgba(8,13,26,.06);
      --shadow-sm: 0 12px 26px rgba(8,13,26,.05);
      --border: #e2e8f0;
      --muted: #64748b;
      --text: #0f172a;
      --bg: #ffffff;
      --focus: rgba(59,130,246,.12);
    }

    html,body{height:100%;margin:0}
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial;
      background:radial-gradient(1200px 700px at 10% 10%, rgba(59,130,246,.14), transparent 60%),
                 radial-gradient(900px 600px at 90% 20%, rgba(168,85,247,.14), transparent 55%),
                 linear-gradient(135deg,#f8fafc,#f1f5f9);
      color:var(--text); line-height:1.6; min-height:100vh;
      -webkit-text-size-adjust:100%;
      text-rendering:optimizeLegibility;
    }
    *{box-sizing:border-box}

    /* Better media defaults */
    img{max-width:100%;height:auto;display:block}

    .wrap{
      max-width:var(--wrap);
      margin:0 auto;
      padding:0 var(--pad-x);
    }

    /* Header */
    .site-header{
      padding:14px 0;
      border-bottom:1px solid var(--border);
      background:rgba(255,255,255,.65);
      backdrop-filter:blur(10px);
      position:sticky;top:0;z-index:10;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      min-height:44px; /* touch target */
    }
    .brand-text{font-weight:900;color:#2563eb;font-size:1.15rem;line-height:1}
    .brand-logo{border-radius:10px}

    /* Hero */
    .hero{
      margin:18px 0 14px 0;
      border-radius:var(--radius-lg);
      padding:26px 18px;
      color:#fff;
      background:linear-gradient(135deg,#2563eb,#a855f7);
      box-shadow:var(--shadow-lg);
      position:relative;
      overflow:hidden;
    }
    .hero:before{
      content:"";
      position:absolute;
      inset:-60px -60px auto auto;
      width:240px;height:240px;border-radius:999px;
      background:rgba(255,255,255,.16);
      transform:rotate(10deg);
    }
    .hero h1{
      margin:0 0 6px 0;
      font-size:clamp(1.45rem, 2.5vw, 2rem);
      letter-spacing:-.02em;
      line-height:1.15;
    }
    .hero p{
      margin:0;
      opacity:.95;
      max-width:72ch;
    }

    .chips{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .chip{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;border-radius:999px;
      background:rgba(255,255,255,.14);
      border:1px solid rgba(255,255,255,.18);
      font-weight:800;font-size:.88rem;
      white-space:nowrap;
    }

    /* Layout */
    .calc-shell{
      display:grid;
      grid-template-columns:1.1fr .9fr;
      gap:14px;
      align-items:start;
      margin-top:14px;
    }

    .panel{
      background:rgba(255,255,255,.92);
      border:1px solid var(--border);
      border-radius:var(--radius-md);
      box-shadow:var(--shadow-md);
      padding:14px;
    }

    .panel-title{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
      flex-wrap:wrap;
    }
    .panel-title h2{margin:0;font-size:1.05rem;line-height:1.25}

    .pill{
      display:inline-flex;gap:8px;align-items:center;
      padding:6px 10px;border-radius:999px;
      background:rgba(37,99,235,.10);
      color:#1d4ed8;
      font-weight:900;font-size:.85rem;
      white-space:nowrap;
    }

    /* Inputs grid */
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .field{display:flex;flex-direction:column;gap:6px;min-width:0}
    .field label{font-weight:900;font-size:.92rem}
    .input{
      width:100%;
      padding:10px 12px;
      border:1px solid var(--border);
      border-radius:12px;
      font-size:1rem;
      background:#fff;
      outline:none;
      min-height:44px; /* better touch target */
    }
    .input:focus{
      border-color:#93c5fd;
      box-shadow:0 0 0 4px var(--focus);
    }
    .help{margin:0;font-size:.86rem;color:var(--muted)}

    /* Buttons */
    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:10px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:10px 14px;
      border-radius:12px;
      font-weight:900;
      border:0;
      cursor:pointer;
      background:linear-gradient(90deg,#2563eb,#60a5fa);
      color:#fff;
      box-shadow:0 12px 26px rgba(37,99,235,.18);
      transition:transform .2s, box-shadow .2s;
      min-height:44px;
      min-width:120px;
      text-align:center;
      user-select:none;
      -webkit-tap-highlight-color:transparent;
    }
    .btn:hover{transform:translateY(-2px);box-shadow:0 16px 34px rgba(37,99,235,.22)}
    .btn:active{transform:translateY(0)}
    .btn:focus-visible{outline:3px solid rgba(59,130,246,.35);outline-offset:3px}

    .btn-ghost{background:#fff;color:#0f172a;border:1px solid var(--border);box-shadow:none}
    .btn-dark{background:#0f172a;box-shadow:0 14px 30px rgba(2,6,23,.18)}

    /* Sticky results */
    .sticky{position:sticky;top:82px}

    /* Metrics */
    .metric{
      border:1px solid var(--border);
      border-radius:var(--radius-md);
      padding:12px;
      background:linear-gradient(180deg, rgba(37,99,235,.10), rgba(255,255,255,.92));
      margin-bottom:10px;
      overflow:hidden;
    }
    .metric.alt{
      background:linear-gradient(180deg, rgba(168,85,247,.10), rgba(255,255,255,.92));
    }
    .metric .k{margin:0;color:#475569;font-size:.86rem;font-weight:800}
    .metric .v{
      margin:4px 0 0;
      font-size:clamp(1.25rem, 2vw, 1.6rem);
      font-weight:1000;
      letter-spacing:-.02em;
      line-height:1.1;
      word-break:break-word;
    }
    .mini{font-size:.86rem;color:var(--muted)}

    .bar{
      height:10px;border-radius:999px;background:#e2e8f0;overflow:hidden;margin-top:10px
    }
    .bar > span{display:block;height:100%;width:0%}

    /* Table */
    .table-wrap{
      overflow:auto;
      -webkit-overflow-scrolling:touch;
      border:1px solid var(--border);
      border-radius:var(--radius-md);
      background:#fff;
      box-shadow:var(--shadow-sm);
    }
    table{
      width:100%;
      border-collapse:collapse;
      min-width:860px; /* keep horizontal scroll on small devices */
    }
    th,td{
      padding:10px 12px;
      border-bottom:1px solid var(--border);
      text-align:left;
      font-size:.95rem;
      white-space:nowrap;
    }
    th{background:#f8fafc;font-weight:1000;position:sticky;top:0;z-index:1}
    tr:last-child td{border-bottom:0}

    /* Content cards (FAQ + related) */
    .card{
      background:#fff;
      border:1px solid var(--border);
      border-radius:14px;
      box-shadow:0 10px 24px rgba(8,13,26,.05);
      padding:12px;
    }
    details.card{padding:0}
    details.card summary{
      cursor:pointer;
      padding:12px;
      list-style:none;
      min-height:44px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    details.card summary::-webkit-details-marker{display:none}
    details.card p{padding:0 12px 12px;margin:0;color:#334155}

    /* Make default pre readable on mobile */
    pre{
      max-width:100%;
      overflow:auto;
      padding:12px;
      background:rgba(255,255,255,.7);
      border:1px solid var(--border);
      border-radius:12px;
    }

    /* Related grid safety (works with your existing global classes too) */
    .cards-grid,
    .related-grid{
      display:grid;
      grid-template-columns:repeat(4, minmax(0, 1fr));
      gap:12px;
    }
    .cards-grid .card,
    .related-grid .card{
      display:block;
      text-decoration:none;
      color:inherit;
      min-height:100%;
    }
    .cards-grid .card h4,
    .related-grid .card h4{margin:0 0 6px}
    .cards-grid .card p,
    .related-grid .card p{margin:0;color:#475569}

    /* Footer links wrap nicely on mobile */
    .site-footer a{word-break:break-word}

    /* ---------------------------
       Breakpoints
    ----------------------------*/

    /* Tablet & below: stack columns */
    @media (max-width: 920px){
      .calc-shell{grid-template-columns:1fr}
      table{min-width:680px}
      .sticky{position:static;top:auto}
      .hero{padding:22px 16px}
      .wrap{padding:0 16px}
      .cards-grid,
      .related-grid{grid-template-columns:repeat(2, minmax(0, 1fr))}
    }

    /* Large phones */
    @media (max-width: 640px){
      :root{--pad-x:16px}
      .grid-2{grid-template-columns:1fr}
      .actions{flex-direction:column}
      .btn{width:100%;min-width:0}
      .chip{white-space:normal}
      table{min-width:620px}
      .cards-grid,
      .related-grid{grid-template-columns:1fr}
      .hero:before{width:200px;height:200px}
    }

    /* Small phones */
    @media (max-width: 380px){
      .hero{border-radius:16px}
      .panel{padding:12px}
      th,td{padding:9px 10px}
      table{min-width:580px}
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto !important}
      .btn,.card{transition:none !important}
      .btn:hover{transform:none !important}
      .card:hover{transform:none !important}
    }
  </style>

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y5YHCPQPFS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments)}
    gtag('js', new Date());
    gtag('config', 'G-Y5YHCPQPFS');
  </script>

  <!-- Schema: WebPage + Breadcrumb + FAQ + HowTo -->
  <script type="application/ld+json">[
    {
      "@context":"https://schema.org",
      "@type":"WebPage",
      "name":"Car Loan EMI Calculator",
      "url":"https://calculatorsolution.com/car-loan-emi-calculator.html",
      "description":"Calculate car loan EMI, interest and amortization schedule with down payment."
    },
    {
      "@context":"https://schema.org",
      "@type":"BreadcrumbList",
      "itemListElement":[
        {"@type":"ListItem","position":1,"name":"CalculatorSolution","item":"https://calculatorsolution.com/"},
        {"@type":"ListItem","position":2,"name":"Car Loan EMI Calculator","item":"https://calculatorsolution.com/car-loan-emi-calculator.html"}
      ]
    },
    {
      "@context":"https://schema.org",
      "@type":"HowTo",
      "name":"How to calculate car loan EMI",
      "step":[
        {"@type":"HowToStep","name":"Enter car price and down payment","text":"The loan amount is car price minus down payment."},
        {"@type":"HowToStep","name":"Enter interest rate and tenure","text":"EMI depends on annual interest rate and loan months."},
        {"@type":"HowToStep","name":"Calculate EMI","text":"See EMI, total interest, total payable and amortization table."}
      ]
    },
    {
      "@context":"https://schema.org",
      "@type":"FAQPage",
      "mainEntity":[
        {"@type":"Question","name":"Does EMI include insurance?","acceptedAnswer":{"@type":"Answer","text":"Usually no. Insurance is typically separate from EMI unless bundled by lender/dealer."}},
        {"@type":"Question","name":"How does down payment affect EMI?","acceptedAnswer":{"@type":"Answer","text":"Higher down payment reduces principal, which reduces EMI and interest cost."}},
        {"@type":"Question","name":"What are balloon payments?","acceptedAnswer":{"@type":"Answer","text":"Some loans keep EMI lower and charge a large balloon payment at the end."}},
        {"@type":"Question","name":"Are there prepayment charges?","acceptedAnswer":{"@type":"Answer","text":"It depends on lender terms; some charge a fee for early closure or part-prepayment."}},
        {"@type":"Question","name":"Typical car loan tenure?","acceptedAnswer":{"@type":"Answer","text":"Often 1â€“7 years, depending on lender and vehicle segment."}}
      ]
    }
  ]</script>
</head>

<body>
  <header class="site-header">
    <div class="wrap">
      <a class="brand" href="/">
        <img src="/assets/logo.png" alt="CalculatorSolution logo" class="brand-logo" width="36" height="36">
        <span class="brand-text">CalculatorSolution</span>
      </a>
    </div>
  </header>

  <main class="wrap">
    <article>
      <div class="hero">
        <h1>Car Loan EMI Calculator</h1>
        <p>Calculate EMI, total interest, total payable, and a full amortization schedule â€” with down payment planning.</p>
        <div class="chips">
          <span class="chip">ðŸš— Down payment support</span>
          <span class="chip">ðŸ“Š Interest split (Principal vs Interest)</span>
          <span class="chip">ðŸ§¾ Amortization schedule</span>
        </div>
      </div>

      <section>
        <div id="premium-car-loan-emi">
          <div class="calc-shell">

            <!-- Inputs -->
            <div class="panel" aria-label="Car loan inputs">
              <div class="panel-title">
                <h2>Loan details</h2>
                <span class="pill">âœ… Inputs</span>
              </div>

              <div class="grid-2">
                <div class="field">
                  <label for="emi_price">Car price</label>
                  <input id="emi_price" class="input" type="number" inputmode="numeric" min="0" step="1000" placeholder="e.g., 900000">
                  <p class="help">Total on-road price or financed price.</p>
                </div>

                <div class="field">
                  <label for="emi_down">Down payment</label>
                  <input id="emi_down" class="input" type="number" inputmode="numeric" min="0" step="1000" placeholder="e.g., 200000">
                  <p class="help">Higher down payment reduces EMI & interest.</p>
                </div>

                <div class="field">
                  <label for="emi_rate">Interest rate (annual)</label>
                  <input id="emi_rate" class="input" type="number" inputmode="decimal" min="0" step="0.01" placeholder="e.g., 10.5">
                  <p class="help">Example: 10.5 means 10.5% per year.</p>
                </div>

                <div class="field">
                  <label for="emi_tenure_years">Tenure</label>
                  <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
                    <input id="emi_tenure_years" class="input" type="number" inputmode="numeric" min="0" step="1" placeholder="e.g., 5">
                    <span class="mini" style="align-self:center;">years</span>
                  </div>
                  <p class="help">Car loans are often 1â€“7 years.</p>
                </div>

                <div class="field">
                  <label for="emi_fees">Processing/other fees (optional)</label>
                  <input id="emi_fees" class="input" type="number" inputmode="numeric" min="0" step="500" placeholder="e.g., 5000">
                  <p class="help">Shown separately; not included in EMI formula.</p>
                </div>

                <div class="field">
                  <label for="emi_round">Round EMI</label>
                  <select id="emi_round" class="input">
                    <option value="0" selected>No rounding</option>
                    <option value="10">Nearest 10</option>
                    <option value="100">Nearest 100</option>
                  </select>
                  <p class="help">Useful to match bank EMI rounding.</p>
                </div>
              </div>

              <div class="actions">
                <button class="btn" id="emi_calc_btn" type="button">Calculate EMI</button>
                <button class="btn btn-dark" id="emi_example_btn" type="button">Try Example</button>
                <button class="btn btn-ghost" id="emi_reset_btn" type="button">Reset</button>
              </div>

              <div class="mini" style="margin-top:10px;">
                EMI Formula: <strong>EMI = P Ã— r Ã— (1+r)^n / ((1+r)^n âˆ’ 1)</strong>
                where r = monthly rate, n = months.
              </div>
            </div>

            <!-- Results -->
            <div class="panel sticky" aria-label="Car loan results">
              <div class="panel-title">
                <h2>Results</h2>
                <span class="pill">ðŸ”¥ Output</span>
              </div>

              <div class="metric">
                <p class="k">Monthly EMI</p>
                <p class="v" id="emi_out_emi">â€”</p>
                <p class="mini" id="emi_out_emi_note">â€”</p>
              </div>

              <div class="metric alt">
                <p class="k">Loan amount (Principal)</p>
                <p class="v" id="emi_out_principal">â€”</p>
                <p class="mini">Car price minus down payment.</p>
              </div>

              <div class="metric">
                <p class="k">Total interest</p>
                <p class="v" id="emi_out_interest">â€”</p>
                <div class="bar"><span id="emi_bar_interest"></span></div>
                <p class="mini" id="emi_out_split">â€”</p>
              </div>

              <div class="metric alt">
                <p class="k">Total payable (EMI Ã— months)</p>
                <p class="v" id="emi_out_total">â€”</p>
                <p class="mini" id="emi_out_fees">â€”</p>
              </div>

              <div class="metric">
                <p class="k">Summary</p>
                <p class="mini" id="emi_out_summary">Enter details to see a clean summary.</p>
              </div>
            </div>

          </div>

          <h2 style="margin:18px 0 6px;">Amortization Schedule</h2>
          <p class="mini" style="margin:0 0 10px;">Month-by-month split of EMI into interest and principal.</p>

          <div class="table-wrap">
            <table aria-label="Car loan amortization table">
              <thead>
                <tr>
                  <th>Month</th>
                  <th>EMI</th>
                  <th>Interest</th>
                  <th>Principal</th>
                  <th>Balance</th>
                </tr>
              </thead>
              <tbody id="emi_table">
                <tr><td colspan="5" class="mini">Click <strong>Calculate EMI</strong> to generate the schedule.</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <section style="margin-top:18px;">
        <h2>Explanation</h2>
        <p>
          This <strong>Car Loan EMI Calculator</strong> estimates your monthly payment (EMI) based on loan amount (car price minus down payment),
          annual interest rate, and tenure. It also shows <strong>total interest</strong>, <strong>total payable</strong>,
          and a detailed <strong>amortization schedule</strong>.
        </p>
        <p class="mini">
          Tip: Increase down payment or reduce tenure to lower total interest. Compare scenarios before finalizing.
        </p>
      </section>

      <section>
        <h3>Formula</h3>
        <pre>EMI = P Ã— r Ã— (1+r)^n / ((1+r)^n âˆ’ 1)</pre>
      </section>

      <section class="faqs">
        <h3>FAQs</h3>
        <details class="card"><summary><strong>Include insurance?</strong></summary><p>Insurance is usually separate from EMI unless your lender bundles it.</p></details>
        <details class="card"><summary><strong>Downpayment effect?</strong></summary><p>A higher down payment lowers principal which reduces EMI and total interest.</p></details>
        <details class="card"><summary><strong>Balloon payments?</strong></summary><p>Some plans keep EMI low but require a large final payment. This calculator assumes a standard EMI loan.</p></details>
        <details class="card"><summary><strong>Prepayment charges?</strong></summary><p>Charges vary by lender. Check foreclosure/part-payment terms.</p></details>
        <details class="card"><summary><strong>Loan tenure typical?</strong></summary><p>Car loans are commonly 1â€“7 years depending on lender and car segment.</p></details>
      </section>

      <section class="related" style="margin-top:18px;">
        <h3>Related calculators</h3>
        <div class="cards-grid related-grid">
          <a class="card" href="home-loan-emi-calculator.html"><h4>Home Loan EMI Calculator</h4><p>Calculate EMI for home loans.</p></a>
          <a class="card" href="personal-loan-emi-calculator.html"><h4>Personal Loan EMI Calculator</h4><p>Estimate EMI and total interest.</p></a>
          <a class="card" href="loan-interest-calculator.html"><h4>Loan Interest Calculator</h4><p>Compare interest across loans.</p></a>
          <a class="card" href="gst-calculator-india.html"><h4>GST Calculator (India)</h4><p>Calculate GST amount and final price.</p></a>
        </div>
      </section>

    </article>
  </main>

  <footer class="site-footer">
    <div class="wrap" style="padding:18px 0;color:#64748b;">
      <p>&copy; CalculatorSolution</p>
      <p style="margin-top:8px;font-size:0.9rem;">
        <a href="/sitemap.xml">Sitemap</a> |
        <a href="/">Home</a> |
        <a href="/privacy-policy.html">Privacy Policy</a> |
        <a href="/terms-of-service.html">Terms</a> |
        <a href="/contact.html">Contact</a> |
        <a href="/about.html">About</a>
      </p>
    </div>
  </footer>

  <script>
    (function(){
      const $ = (id)=>document.getElementById(id);
      const fmt = (n)=> (isFinite(n) ? new Intl.NumberFormat(undefined,{maximumFractionDigits:0}).format(n) : 'â€”');

      const priceEl = $('emi_price');
      const downEl  = $('emi_down');
      const rateEl  = $('emi_rate');
      const yearsEl = $('emi_tenure_years');
      const feesEl  = $('emi_fees');
      const roundEl = $('emi_round');

      const outEmi = $('emi_out_emi');
      const outEmiNote = $('emi_out_emi_note');
      const outP = $('emi_out_principal');
      const outI = $('emi_out_interest');
      const outT = $('emi_out_total');
      const outFees = $('emi_out_fees');
      const outSplit = $('emi_out_split');
      const outSummary = $('emi_out_summary');
      const barI = $('emi_bar_interest');
      const tbody = $('emi_table');

      function roundTo(x, step){
        step = parseInt(step,10) || 0;
        if (!step) return x;
        return Math.round(x/step)*step;
      }

      function calc(){
        const price = parseFloat(priceEl.value);
        const down  = parseFloat(downEl.value) || 0;
        const rateA = parseFloat(rateEl.value);
        const years = parseFloat(yearsEl.value);
        const fees  = parseFloat(feesEl.value) || 0;

        if(!isFinite(price) || price<=0){
          outEmi.textContent='â€”'; outEmiNote.textContent='Enter valid car price.';
          tbody.innerHTML = '<tr><td colspan="5" class="mini">Click <strong>Calculate EMI</strong> to generate the schedule.</td></tr>';
          return;
        }
        if(down<0 || down>price){
          outEmi.textContent='â€”'; outEmiNote.textContent='Down payment must be between 0 and car price.';
          tbody.innerHTML = '<tr><td colspan="5" class="mini">Fix inputs and calculate again.</td></tr>';
          return;
        }
        if(!isFinite(rateA) || rateA<=0){
          outEmi.textContent='â€”'; outEmiNote.textContent='Enter valid interest rate.';
          tbody.innerHTML = '<tr><td colspan="5" class="mini">Fix inputs and calculate again.</td></tr>';
          return;
        }
        if(!isFinite(years) || years<=0){
          outEmi.textContent='â€”'; outEmiNote.textContent='Enter valid tenure in years.';
          tbody.innerHTML = '<tr><td colspan="5" class="mini">Fix inputs and calculate again.</td></tr>';
          return;
        }

        const P = price - down;
        const n = Math.round(years * 12);
        const r = (rateA/100)/12;

        // EMI
        const pow = Math.pow(1+r, n);
        let emi = (P * r * pow) / (pow - 1);
        emi = roundTo(emi, roundEl.value);

        const totalPay = emi * n;
        const totalInterest = totalPay - P;

        outEmi.textContent = 'â‚¹ ' + fmt(emi);
        outEmiNote.textContent = `Tenure: ${n} months â€¢ Rate: ${rateA}% p.a.`;
        outP.textContent = 'â‚¹ ' + fmt(P);
        outI.textContent = 'â‚¹ ' + fmt(totalInterest);
        outT.textContent = 'â‚¹ ' + fmt(totalPay);
        outFees.textContent = fees>0 ? `Fees (separate): â‚¹ ${fmt(fees)}` : 'Fees not included';

        const interestPct = totalPay>0 ? (totalInterest/totalPay)*100 : 0;
        barI.style.width = Math.max(0, Math.min(100, interestPct)).toFixed(1) + '%';
        barI.style.background = 'linear-gradient(90deg, rgba(168,85,247,.9), rgba(59,130,246,.9))';
        outSplit.textContent = `Interest share â‰ˆ ${interestPct.toFixed(1)}% of total payable`;

        outSummary.textContent =
          `Car â‚¹${fmt(price)} â€¢ Down â‚¹${fmt(down)} â€¢ Loan â‚¹${fmt(P)} â€¢ EMI â‚¹${fmt(emi)} â€¢ Total interest â‚¹${fmt(totalInterest)} â€¢ Total payable â‚¹${fmt(totalPay)}.`;

        // Amortization
        let balance = P;
        const rows = [];
        for(let m=1; m<=n; m++){
          const interest = balance * r;
          let principal = emi - interest;

          // Last month adjust to close balance due to rounding
          if(m === n){
            principal = balance;
          }
          balance = Math.max(0, balance - principal);

          rows.push(`
            <tr>
              <td>${m}</td>
              <td>â‚¹ ${fmt(emi)}</td>
              <td>â‚¹ ${fmt(interest)}</td>
              <td>â‚¹ ${fmt(principal)}</td>
              <td>â‚¹ ${fmt(balance)}</td>
            </tr>
          `);

          // keep page fast: cap display
          if(m===120 && n>120){
            rows.push(`<tr><td colspan="5" class="mini">Schedule truncated for performance (showing first 120 months). Reduce tenure or keep as is.</td></tr>`);
            break;
          }
        }
        tbody.innerHTML = rows.join('');
      }

      $('emi_calc_btn').addEventListener('click', calc);

      $('emi_example_btn').addEventListener('click', ()=>{
        priceEl.value = '900000';
        downEl.value  = '200000';
        rateEl.value  = '10.5';
        yearsEl.value = '5';
        feesEl.value  = '5000';
        roundEl.value = '0';
        calc();
      });

      $('emi_reset_btn').addEventListener('click', ()=>{
        [priceEl,downEl,rateEl,yearsEl,feesEl].forEach(el=>el.value='');
        roundEl.value='0';
        outEmi.textContent='â€”';
        outEmiNote.textContent='â€”';
        outP.textContent='â€”';
        outI.textContent='â€”';
        outT.textContent='â€”';
        outFees.textContent='â€”';
        outSplit.textContent='â€”';
        outSummary.textContent='Enter details to see a clean summary.';
        barI.style.width='0%';
        tbody.innerHTML = '<tr><td colspan="5" class="mini">Click <strong>Calculate EMI</strong> to generate the schedule.</td></tr>';
      });

      [priceEl,downEl,rateEl,yearsEl,feesEl,roundEl].forEach(el=>{
        el.addEventListener('input', ()=>{ if(priceEl.value) calc(); });
        el.addEventListener('change', ()=>{ if(priceEl.value) calc(); });
      });
    })();
  </script>
</body>
</html>
