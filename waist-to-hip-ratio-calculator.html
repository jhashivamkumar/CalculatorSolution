<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <title>Waist to Hip Ratio Calculator (WHR) + Risk Category | CalculatorSolution</title>
  <meta name="description" content="Free Waist to Hip Ratio (WHR) Calculator: enter waist & hip measurement (cm/in) and sex to compute WHR and see health risk category with quick measurement tips.">

  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://calculatorsolution.com/waist-to-hip-ratio-calculator.html">

  <meta property="og:title" content="Waist to Hip Ratio Calculator (WHR)">
  <meta property="og:description" content="Calculate waist-to-hip ratio (WHR) and see risk category (male/female). Supports cm/in and provides measurement tips.">
  <meta property="og:image" content="https://calculatorsolution.com/assets/og-image.svg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://calculatorsolution.com/assets/og-image.svg">

  <link rel="icon" href="/assets/og-image.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/assets/logo.png">
  <link rel="manifest" href="/assets/site.webmanifest">

  <!-- Global CSS -->
  <link rel="preload" href="/assets/style.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/assets/style.css"></noscript>

  <!-- Premium critical CSS (UI/UX + responsive upgrades ONLY ‚Äî no JS logic changes) -->
  <style>
    html,body{height:100%;margin:0}
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial;
      background:radial-gradient(1200px 700px at 10% 10%, rgba(59,130,246,.14), transparent 60%),
                 radial-gradient(900px 600px at 90% 20%, rgba(168,85,247,.14), transparent 55%),
                 linear-gradient(135deg,#f8fafc,#f1f5f9);
      color:#0f172a; line-height:1.6; min-height:100vh;
      -webkit-text-size-adjust:100%;
      text-rendering:optimizeLegibility;
    }
    *{box-sizing:border-box}
    img{max-width:100%;height:auto}
    a{color:inherit}
    .wrap{max-width:1100px;margin:0 auto;padding:0 18px}
    :focus-visible{outline:3px solid rgba(59,130,246,.35);outline-offset:3px;border-radius:10px}

    /* Header */
    .site-header{
      padding:14px 0;border-bottom:1px solid #e2e8f0;
      background:rgba(255,255,255,.70);backdrop-filter:blur(10px);
      position:sticky;top:0;z-index:10
    }
    .brand{display:flex;align-items:center;gap:10px;text-decoration:none;min-height:44px}
    .brand-text{font-weight:900;color:#2563eb;font-size:1.15rem;letter-spacing:-.01em}
    .brand-logo{border-radius:10px;flex:0 0 auto}

    /* Hero */
    .hero{
      margin:18px 0 14px 0;border-radius:18px;padding:26px 18px;
      color:#fff;background:linear-gradient(135deg,#2563eb,#a855f7);
      box-shadow:0 18px 50px rgba(2,6,23,.15);
      position:relative;overflow:hidden;
    }
    .hero:before{
      content:""; position:absolute; inset:-60px -60px auto auto;
      width:240px;height:240px;border-radius:999px;
      background:rgba(255,255,255,.16);
      transform:rotate(10deg);
      pointer-events:none;
    }
    .hero h1{margin:0 0 6px 0;font-size:clamp(1.45rem,3.4vw,1.9rem);letter-spacing:-.02em}
    .hero p{margin:0;opacity:.95;max-width:68ch}
    .chips{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .chip{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;border-radius:999px;
      background:rgba(255,255,255,.14);
      border:1px solid rgba(255,255,255,.18);
      font-weight:800;font-size:.88rem;
      white-space:nowrap;
    }

    /* Layout */
    .calc-shell{
      display:grid;
      grid-template-columns:minmax(0,1.1fr) minmax(0,.9fr);
      gap:14px;
      align-items:start;
      margin-top:14px
    }
    .panel{
      background:rgba(255,255,255,.92);
      border:1px solid #e2e8f0;border-radius:16px;
      box-shadow:0 14px 40px rgba(8,13,26,.06);
      padding:14px;
      min-width:0;
    }
    .panel-title{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px}
    .panel-title h2{margin:0;font-size:1.05rem}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;background:rgba(37,99,235,.10);color:#1d4ed8;font-weight:900;font-size:.85rem;white-space:nowrap}

    .grid-2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
    .field{display:flex;flex-direction:column;gap:6px;min-width:0}
    .field label{font-weight:900;font-size:.92rem}
    .input{
      padding:10px 12px;border:1px solid #e2e8f0;border-radius:12px;
      font-size:1rem;background:#fff;outline:none;
      min-height:44px; /* touch target */
      width:100%;
    }
    select.input{appearance:none;background-image:linear-gradient(45deg, transparent 50%, #64748b 50%),linear-gradient(135deg, #64748b 50%, transparent 50%);background-position:calc(100% - 18px) calc(1em + 2px),calc(100% - 13px) calc(1em + 2px);background-size:5px 5px,5px 5px;background-repeat:no-repeat;padding-right:34px}
    .input:focus{border-color:#93c5fd;box-shadow:0 0 0 4px rgba(59,130,246,.12)}
    .help{margin:0;font-size:.86rem;color:#64748b}

    /* Buttons */
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;
      padding:10px 14px;border-radius:12px;
      font-weight:900;border:0;cursor:pointer;
      background:linear-gradient(90deg,#2563eb,#60a5fa);
      color:#fff; box-shadow:0 12px 26px rgba(37,99,235,.18);
      transition:transform .2s, box-shadow .2s;
      min-height:44px;
    }
    .btn:hover{transform:translateY(-2px);box-shadow:0 16px 34px rgba(37,99,235,.22)}
    .btn:active{transform:translateY(0)}
    .btn-ghost{background:#fff;color:#0f172a;border:1px solid #e2e8f0;box-shadow:none}
    .btn-dark{background:#0f172a;box-shadow:0 14px 30px rgba(2,6,23,.18)}
    .btn:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}

    /* Sticky results */
    .sticky{position:sticky;top:82px}
    .metric{
      border:1px solid #e2e8f0;border-radius:16px;padding:12px;
      background:linear-gradient(180deg, rgba(37,99,235,.10), rgba(255,255,255,.92));
      margin-bottom:10px;
      min-width:0;
    }
    .metric.alt{
      background:linear-gradient(180deg, rgba(168,85,247,.10), rgba(255,255,255,.92));
    }
    .metric .k{margin:0;color:#475569;font-size:.86rem;font-weight:800}
    .metric .v{margin:4px 0 0;font-size:clamp(1.35rem,3.2vw,1.55rem);font-weight:1000;letter-spacing:-.02em;word-break:break-word}
    .mini{font-size:.86rem;color:#64748b}

    .bar{
      height:10px;border-radius:999px;background:#e2e8f0;overflow:hidden;margin-top:10px
    }
    .bar > span{display:block;height:100%;width:0%}

    /* Table */
    .table-wrap{
      overflow:auto;
      border:1px solid #e2e8f0;border-radius:16px;background:#fff;
      box-shadow:0 12px 26px rgba(8,13,26,.05);
      -webkit-overflow-scrolling:touch;
    }
    table{width:100%;border-collapse:collapse;min-width:760px}
    th,td{padding:10px 12px;border-bottom:1px solid #e2e8f0;text-align:left;font-size:.95rem}
    th{background:#f8fafc;font-weight:1000}
    tr:last-child td{border-bottom:0}

    /* Notes + FAQ cards */
    .note{
      border:1px dashed #cbd5e1;border-radius:14px;padding:12px;background:rgba(255,255,255,.7);
      margin-top:10px
    }
    .card{background:#fff;border:1px solid #e2e8f0;border-radius:14px;box-shadow:0 10px 24px rgba(8,13,26,.05);padding:12px}
    details.card{padding:0;overflow:hidden}
    details.card summary{
      cursor:pointer;padding:12px;list-style:none;
      display:flex;align-items:center;gap:10px;
      min-height:44px;
    }
    details.card summary::-webkit-details-marker{display:none}
    details.card summary:after{
      content:"‚ñæ";margin-left:auto;color:#64748b;font-weight:900;transition:transform .2s;
    }
    details[open].card summary:after{transform:rotate(180deg)}
    details.card p{padding:0 12px 12px;margin:0;color:#334155}

    /* Related grid (ensure good on all devices, without changing markup) */
    .related-grid{
      display:grid;
      grid-template-columns:repeat(4,minmax(0,1fr));
      gap:12px;
      align-items:stretch;
    }
    .related-grid .card{display:block;text-decoration:none}
    .related-grid .card h4{margin:0 0 6px;font-size:1rem;letter-spacing:-.01em}
    .related-grid .card p{margin:0;color:#475569;font-size:.92rem;line-height:1.45}

    /* Content typography */
    article > section{scroll-margin-top:96px}
    pre{
      white-space:pre-wrap;
      word-break:break-word;
      background:#0b1220;
      color:#e2e8f0;
      padding:12px 14px;
      border-radius:14px;
      overflow:auto;
      -webkit-overflow-scrolling:touch;
      font-size:.95rem;
    }

    /* Footer */
    .site-footer{margin-top:24px}

    /* Responsive breakpoints */
    @media (max-width: 1024px){
      .wrap{padding:0 16px}
      .related-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
    }
    @media (max-width: 920px){
      .calc-shell{grid-template-columns:1fr}
      table{min-width:640px}
      .sticky{position:static}
    }
    @media (max-width: 640px){
      .hero{padding:18px 14px}
      .grid-2{grid-template-columns:1fr}
      .actions{flex-direction:column}
      .btn{width:100%}
      table{min-width:520px}
      .related-grid{grid-template-columns:1fr}
      .chip{white-space:normal}
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto}
      .btn,.card{transition:none}
      .btn:hover{transform:none}
    }
  </style>

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y5YHCPQPFS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments)}
    gtag('js', new Date());
    gtag('config', 'G-Y5YHCPQPFS');
  </script>

  <!-- Schema: WebPage + Breadcrumb + HowTo + FAQ -->
  <script type="application/ld+json">[
    {
      "@context":"https://schema.org",
      "@type":"WebPage",
      "name":"Waist to Hip Ratio Calculator",
      "url":"https://calculatorsolution.com/waist-to-hip-ratio-calculator.html",
      "description":"Calculate waist-to-hip ratio (WHR) from waist and hip measurements and view risk category."
    },
    {
      "@context":"https://schema.org",
      "@type":"BreadcrumbList",
      "itemListElement":[
        {"@type":"ListItem","position":1,"name":"CalculatorSolution","item":"https://calculatorsolution.com/"},
        {"@type":"ListItem","position":2,"name":"Waist to Hip Ratio Calculator","item":"https://calculatorsolution.com/waist-to-hip-ratio-calculator.html"}
      ]
    },
    {
      "@context":"https://schema.org",
      "@type":"HowTo",
      "name":"How to measure waist-to-hip ratio (WHR)",
      "step":[
        {"@type":"HowToStep","name":"Measure waist","text":"Measure around your natural waist (usually just above the belly button) after exhaling normally."},
        {"@type":"HowToStep","name":"Measure hips","text":"Measure around the widest part of your hips/buttocks with the tape level."},
        {"@type":"HowToStep","name":"Calculate WHR","text":"WHR = waist √∑ hip. Choose sex to see the risk category."}
      ]
    },
    {
      "@context":"https://schema.org",
      "@type":"FAQPage",
      "mainEntity":[
        {"@type":"Question","name":"Risk thresholds?","acceptedAnswer":{"@type":"Answer","text":"Thresholds differ by sex. In general, higher WHR is associated with higher cardiometabolic risk."}},
        {"@type":"Question","name":"Measurement technique?","acceptedAnswer":{"@type":"Answer","text":"Use a flexible tape. Keep it level and snug (not tight). Measure waist at the natural waist and hips at the widest point."}},
        {"@type":"Question","name":"Use with BMI?","acceptedAnswer":{"@type":"Answer","text":"Yes. BMI estimates overall weight status, while WHR indicates fat distribution. Together they provide more context."}},
        {"@type":"Question","name":"Children?","acceptedAnswer":{"@type":"Answer","text":"Children and teens use different standards and percentiles. This calculator is intended for adults."}},
        {"@type":"Question","name":"Use for tracking?","acceptedAnswer":{"@type":"Answer","text":"Yes. Track changes over time using the same measurement method, posture, and time of day."}}
      ]
    }
  ]</script>
</head>

<body>
  <header class="site-header">
    <div class="wrap">
      <a class="brand" href="/">
        <img src="/assets/logo.png" alt="CalculatorSolution logo" class="brand-logo" width="36" height="36">
        <span class="brand-text">CalculatorSolution</span>
      </a>
    </div>
  </header>

  <main class="wrap">
    <article>
      <div class="hero">
        <h1>Waist to Hip Ratio Calculator (WHR)</h1>
        <p>Compute your waist-to-hip ratio and get a simple risk category based on sex ‚Äî in seconds.</p>
        <div class="chips">
          <span class="chip">üìè cm / inches support</span>
          <span class="chip">üß† Risk category</span>
          <span class="chip">‚úÖ Measurement tips</span>
        </div>
      </div>

      <section>
        <div id="premium-whr">
          <div class="calc-shell">

            <!-- Inputs -->
            <div class="panel" aria-label="WHR inputs">
              <div class="panel-title">
                <h2>Measurements</h2>
                <span class="pill">‚úÖ Inputs</span>
              </div>

              <div class="grid-2">
                <div class="field">
                  <label for="whr_sex">Sex</label>
                  <select id="whr_sex" class="input">
                    <option value="male" selected>Male</option>
                    <option value="female">Female</option>
                  </select>
                  <p class="help">Risk thresholds differ by sex.</p>
                </div>

                <div class="field">
                  <label for="whr_unit">Unit</label>
                  <select id="whr_unit" class="input">
                    <option value="cm" selected>Centimeters (cm)</option>
                    <option value="in">Inches (in)</option>
                  </select>
                  <p class="help">Waist and hip must use the same unit.</p>
                </div>

                <div class="field">
                  <label for="whr_waist">Waist</label>
                  <input id="whr_waist" class="input" type="number" inputmode="decimal" min="0" step="0.1" placeholder="e.g., 85">
                  <p class="help" id="whr_waist_help">Measure at your natural waist (after normal exhale).</p>
                </div>

                <div class="field">
                  <label for="whr_hip">Hip</label>
                  <input id="whr_hip" class="input" type="number" inputmode="decimal" min="0" step="0.1" placeholder="e.g., 95">
                  <p class="help" id="whr_hip_help">Measure at the widest point of hips/buttocks.</p>
                </div>

                <div class="field">
                  <label for="whr_decimals">Decimals</label>
                  <select id="whr_decimals" class="input">
                    <option value="2" selected>2 decimals</option>
                    <option value="3">3 decimals</option>
                    <option value="4">4 decimals</option>
                  </select>
                  <p class="help">Choose display precision.</p>
                </div>

                <div class="field">
                  <label for="whr_showtips">Show quick tips</label>
                  <select id="whr_showtips" class="input">
                    <option value="1" selected>Yes</option>
                    <option value="0">No</option>
                  </select>
                  <p class="help">For cleaner printing, turn tips off.</p>
                </div>
              </div>

              <div class="actions">
                <button class="btn" id="whr_calc_btn" type="button">Calculate WHR</button>
                <button class="btn btn-dark" id="whr_example_btn" type="button">Try Example</button>
                <button class="btn btn-ghost" id="whr_reset_btn" type="button">Reset</button>
              </div>

              <div class="note mini" id="whr_tips_box">
                <strong>Quick measurement tips:</strong><br>
                ‚Ä¢ Stand relaxed, feet together, tape level and snug (not tight).<br>
                ‚Ä¢ Waist: narrowest point or just above the belly button (use consistent method).<br>
                ‚Ä¢ Hips: widest part of hips/buttocks.<br>
                ‚Ä¢ Measure at the same time of day for tracking.
              </div>
            </div>

            <!-- Results -->
            <div class="panel sticky" aria-label="WHR results">
              <div class="panel-title">
                <h2>Results</h2>
                <span class="pill">üî• Output</span>
              </div>

              <div class="metric">
                <p class="k">Waist-to-Hip Ratio (WHR)</p>
                <p class="v" id="whr_out_ratio">‚Äî</p>
                <p class="mini" id="whr_out_ratio_note">WHR = waist √∑ hip</p>
              </div>

              <div class="metric alt">
                <p class="k">Risk category (adult)</p>
                <p class="v" id="whr_out_category">‚Äî</p>
                <p class="mini" id="whr_out_category_note">Select sex to apply thresholds.</p>
              </div>

              <div class="metric">
                <p class="k">Where you stand</p>
                <div class="bar"><span id="whr_bar"></span></div>
                <p class="mini" id="whr_out_bar_note">Enter values to see a visual indicator.</p>
              </div>

              <div class="metric alt">
                <p class="k">Summary</p>
                <p class="mini" id="whr_out_summary">Enter measurements to see a clean summary.</p>
              </div>
            </div>

          </div>

          <h2 style="margin:18px 0 6px;">Adult Risk Thresholds (Quick Reference)</h2>
          <p class="mini" style="margin:0 0 10px;">These are commonly used cutoffs for adults. Your clinician may use different standards based on age/ethnicity/medical history.</p>

          <div class="table-wrap">
            <table aria-label="WHR thresholds table">
              <thead>
                <tr>
                  <th>Sex</th>
                  <th>Low risk</th>
                  <th>Moderate risk</th>
                  <th>High risk</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Male</strong></td>
                  <td>&lt; 0.90</td>
                  <td>0.90 ‚Äì 0.99</td>
                  <td>&ge; 1.00</td>
                </tr>
                <tr>
                  <td><strong>Female</strong></td>
                  <td>&lt; 0.80</td>
                  <td>0.80 ‚Äì 0.84</td>
                  <td>&ge; 0.85</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <section style="margin-top:18px;">
        <h2>Explanation</h2>
        <p>
          The <strong>Waist-to-Hip Ratio (WHR)</strong> compares your waist measurement to your hip measurement.
          It‚Äôs used as a simple indicator of <strong>fat distribution</strong>.
          A higher WHR often suggests more abdominal fat, which is associated with increased cardiometabolic risk.
        </p>
        <p class="mini">
          WHR is best used as a screening/awareness tool. It does not diagnose disease.
          If you have health concerns, consult a qualified healthcare professional.
        </p>
      </section>

      <section>
        <h3>Formula</h3>
        <pre>WHR = waist / hip</pre>
      </section>

      <section class="faqs">
        <h3>FAQs</h3>
        <details class="card"><summary><strong>Risk thresholds?</strong></summary><p>Thresholds differ by sex. In general, higher WHR is associated with higher cardiometabolic risk.</p></details>
        <details class="card"><summary><strong>Measurement technique?</strong></summary><p>Measure waist at the natural waist and hips at the widest point. Keep the tape level and snug (not tight).</p></details>
        <details class="card"><summary><strong>Use with BMI?</strong></summary><p>Yes. BMI estimates overall weight status, while WHR indicates fat distribution. Together they provide better context.</p></details>
        <details class="card"><summary><strong>Children?</strong></summary><p>Children and teens use different standards and percentiles. This calculator is intended for adults.</p></details>
        <details class="card"><summary><strong>Use for tracking?</strong></summary><p>Track changes over time using the same method, posture, and time of day for consistent results.</p></details>
      </section>

      <section class="related" style="margin-top:18px;">
        <h3>Related calculators</h3>
        <div class="cards-grid related-grid">
          <a class="card" href="bmr-calculator.html"><h4>BMR Calculator</h4><p>Estimate basal metabolic rate from age, sex, height and weight.</p></a>
          <a class="card" href="body-fat-percentage-calculator.html"><h4>Body Fat Percentage Calculator</h4><p>Estimate body fat using measurements or formulas.</p></a>
          <a class="card" href="daily-calorie-needs-calculator.html"><h4>Daily Calorie Needs Calculator</h4><p>Estimate daily calorie needs based on activity level.</p></a>
          <a class="card" href="ideal-weight-calculator.html"><h4>Ideal Weight Calculator</h4><p>Estimate ideal weight ranges from BMI or other formulas.</p></a>
        </div>
      </section>

    </article>
  </main>

  <footer class="site-footer">
    <div class="wrap" style="padding:18px 0;color:#64748b;">
      <p>&copy; CalculatorSolution</p>
      <p style="margin-top:8px;font-size:0.9rem;">
        <a href="/sitemap.xml">Sitemap</a> |
        <a href="/">Home</a> |
        <a href="/privacy-policy.html">Privacy Policy</a> |
        <a href="/terms-of-service.html">Terms</a> |
        <a href="/contact.html">Contact</a> |
        <a href="/about.html">About</a>
      </p>
    </div>
  </footer>

  <script>
    (function(){
      const $ = (id)=>document.getElementById(id);

      const sexEl = $('whr_sex');
      const unitEl = $('whr_unit');
      const waistEl = $('whr_waist');
      const hipEl = $('whr_hip');
      const decEl = $('whr_decimals');
      const tipsEl = $('whr_showtips');

      const tipsBox = $('whr_tips_box');

      const outRatio = $('whr_out_ratio');
      const outRatioNote = $('whr_out_ratio_note');
      const outCat = $('whr_out_category');
      const outCatNote = $('whr_out_category_note');
      const outSummary = $('whr_out_summary');
      const bar = $('whr_bar');
      const outBarNote = $('whr_out_bar_note');

      function clamp(x, a, b){ return Math.max(a, Math.min(b, x)); }

      function classify(sex, ratio){
        // Commonly used adult cutoffs:
        // Male: <0.90 low, 0.90-0.99 moderate, >=1.00 high
        // Female: <0.80 low, 0.80-0.84 moderate, >=0.85 high
        if(sex === 'female'){
          if(ratio < 0.80) return { label:'Low risk', level:'low' };
          if(ratio < 0.85) return { label:'Moderate risk', level:'mid' };
          return { label:'High risk', level:'high' };
        } else {
          if(ratio < 0.90) return { label:'Low risk', level:'low' };
          if(ratio < 1.00) return { label:'Moderate risk', level:'mid' };
          return { label:'High risk', level:'high' };
        }
      }

      function barWidthFor(sex, ratio){
        // map ratio range to 0..100 for a simple indicator
        // male typical range: 0.70..1.10
        // female typical range: 0.65..1.00
        let min = 0.65, max = 1.05;
        if(sex === 'male'){ min = 0.70; max = 1.10; }
        const pct = ((ratio - min) / (max - min)) * 100;
        return clamp(pct, 0, 100);
      }

      function calc(){
        const sex = sexEl.value;
        const unit = unitEl.value;
        const waist = parseFloat(waistEl.value);
        const hip = parseFloat(hipEl.value);
        const decimals = parseInt(decEl.value,10) || 2;

        if(!isFinite(waist) || waist<=0){
          outRatio.textContent='‚Äî';
          outCat.textContent='‚Äî';
          outCatNote.textContent='Enter a valid waist measurement.';
          outSummary.textContent='Enter measurements to see a clean summary.';
          bar.style.width='0%';
          outBarNote.textContent='Enter values to see a visual indicator.';
          return;
        }
        if(!isFinite(hip) || hip<=0){
          outRatio.textContent='‚Äî';
          outCat.textContent='‚Äî';
          outCatNote.textContent='Enter a valid hip measurement.';
          outSummary.textContent='Enter measurements to see a clean summary.';
          bar.style.width='0%';
          outBarNote.textContent='Enter values to see a visual indicator.';
          return;
        }
        if(waist >= hip * 2){
          // simple sanity check to catch obvious input mistakes
          outCatNote.textContent='Check values: waist seems unusually larger than hips.';
        } else {
          outCatNote.textContent='Based on selected sex thresholds.';
        }

        const ratio = waist / hip;
        const c = classify(sex, ratio);

        outRatio.textContent = ratio.toFixed(decimals);
        outRatioNote.textContent = `WHR = waist (${waist} ${unit}) √∑ hip (${hip} ${unit})`;

        outCat.textContent = c.label;

        const width = barWidthFor(sex, ratio);
        bar.style.width = width.toFixed(1) + '%';
        bar.style.background = 'linear-gradient(90deg, rgba(168,85,247,.9), rgba(59,130,246,.9))';

        const sexLabel = sex === 'female' ? 'Female' : 'Male';
        outBarNote.textContent = `Indicator: ${sexLabel} WHR ${ratio.toFixed(decimals)} ‚Üí ${c.label}.`;

        outSummary.textContent =
          `${sexLabel} ‚Ä¢ Waist ${waist} ${unit} ‚Ä¢ Hip ${hip} ${unit} ‚Ä¢ WHR ${ratio.toFixed(decimals)} ‚Ä¢ Category: ${c.label}.`;
      }

      function applyUnitHints(){
        const unit = unitEl.value;
        waistEl.placeholder = unit === 'cm' ? 'e.g., 85' : 'e.g., 33.5';
        hipEl.placeholder   = unit === 'cm' ? 'e.g., 95' : 'e.g., 37.5';
      }

      function applyTipsToggle(){
        tipsBox.style.display = (tipsEl.value === '1') ? 'block' : 'none';
      }

      $('whr_calc_btn').addEventListener('click', calc);

      $('whr_example_btn').addEventListener('click', ()=>{
        sexEl.value='male';
        unitEl.value='cm';
        waistEl.value='88';
        hipEl.value='98';
        decEl.value='2';
        tipsEl.value='1';
        applyUnitHints();
        applyTipsToggle();
        calc();
      });

      $('whr_reset_btn').addEventListener('click', ()=>{
        sexEl.value='male';
        unitEl.value='cm';
        waistEl.value='';
        hipEl.value='';
        decEl.value='2';
        tipsEl.value='1';
        applyUnitHints();
        applyTipsToggle();
        outRatio.textContent='‚Äî';
        outRatioNote.textContent='WHR = waist √∑ hip';
        outCat.textContent='‚Äî';
        outCatNote.textContent='Select sex to apply thresholds.';
        outSummary.textContent='Enter measurements to see a clean summary.';
        bar.style.width='0%';
        outBarNote.textContent='Enter values to see a visual indicator.';
      });

      [sexEl, unitEl, waistEl, hipEl, decEl, tipsEl].forEach(el=>{
        el.addEventListener('input', ()=>{ if(waistEl.value && hipEl.value) calc(); });
        el.addEventListener('change', ()=>{
          if(el === unitEl) applyUnitHints();
          if(el === tipsEl) applyTipsToggle();
          if(waistEl.value && hipEl.value) calc();
        });
      });

      applyUnitHints();
      applyTipsToggle();
    })();
  </script>
</body>
</html>
